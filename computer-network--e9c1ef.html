<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<!-- iOS Safari -->
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<!-- Chrome, Firefox OS and Opera Status Bar Color -->
<meta name="theme-color" content="#FFFFFF">
<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css">
<link rel="stylesheet" type="text/css"
  href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.19.0/themes/prism.min.css">
<link rel="stylesheet" type="text/css" href="css/SourceSansPro.css">
<link rel="stylesheet" type="text/css" href="css/theme.css">
<link rel="stylesheet" type="text/css" href="css/notablog.css">
<!-- Favicon -->

  <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;ğŸ“–&lt;/text&gt;&lt;/svg&gt;">

<style>
  :root {
    font-size: 20px;
  }
</style>
  <title>Computer Network &nbsp;|&nbsp;dreamking60â€™s blog</title>
  <meta property="og:type" content="blog">
  <meta property="og:title" content="Computer Network ">
  
    <meta name="description" content="Note of computer network">
    <meta property="og:description" content="Note of computer network">
  
  
    <meta property="og:image" content="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;ğŸ““&lt;/text&gt;&lt;/svg&gt;">
  
  <style>
    .DateTagBar {
      margin-top: 1.0rem;
    }
  </style>
</head>

<body>
  <nav class="Navbar">
  <a href="index.html">
    <div class="Navbar__Btn">
      
        <span><img class="inline-img-icon" src="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;ğŸ“–&lt;/text&gt;&lt;/svg&gt;"></span>&nbsp;
      
      <span>Home</span>
    </div>
  </a>
  
    
  
    
      <span class="Navbar__Delim">&centerdot;</span>
      <a href="rust-hypervisor-4643d2.html">
        <div class="Navbar__Btn">
          
            <span><img class="inline-img-icon" src="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;ğŸ“˜&lt;/text&gt;&lt;/svg&gt;"></span>&nbsp;
          
          <span>Rust Hypervisor</span>
        </div>
      </a>
    
  
    
  
    
  
    
  
    
      <span class="Navbar__Delim">&centerdot;</span>
      <a href="sicp-js-73bc46.html">
        <div class="Navbar__Btn">
          
            <span><img class="inline-img-icon" src="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;ğŸ”–&lt;/text&gt;&lt;/svg&gt;"></span>&nbsp;
          
          <span>SICP JS</span>
        </div>
      </a>
    
  
    
  
    
      <span class="Navbar__Delim">&centerdot;</span>
      <a href="-c44b33.html">
        <div class="Navbar__Btn">
          
            <span><img class="inline-img-icon" src="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;ğŸ“š&lt;/text&gt;&lt;/svg&gt;"></span>&nbsp;
          
          <span>è€ƒç ”å¤ä¹ </span>
        </div>
      </a>
    
  
    
  
    
  
    
      <span class="Navbar__Delim">&centerdot;</span>
      <a href="c-develop-in-linux-1b298b.html">
        <div class="Navbar__Btn">
          
            <span><img class="inline-img-icon" src="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;âš’ï¸&lt;/text&gt;&lt;/svg&gt;"></span>&nbsp;
          
          <span>C develop in Linux</span>
        </div>
      </a>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <span class="Navbar__Delim">&centerdot;</span>
      <a href="about-me-da8649.html">
        <div class="Navbar__Btn">
          
            <span><img class="inline-img-icon" src="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;ğŸ£&lt;/text&gt;&lt;/svg&gt;"></span>&nbsp;
          
          <span>About me</span>
        </div>
      </a>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <span class="Navbar__Delim">&centerdot;</span>
      <a href="university-catalog-b866fe.html">
        <div class="Navbar__Btn">
          
          <span>University Catalog</span>
        </div>
      </a>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
</nav>
  <header class="Header">
    
    <div class="Header__Spacer Header__Spacer--NoCover">
    </div>
    
      <div class="Header__Icon">
        <span><img class="inline-img-icon" src="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;ğŸ““&lt;/text&gt;&lt;/svg&gt;"></span>
      </div>
    
    <h1 class="Header__Title">Computer Network </h1>
    
      <div class="DateTagBar">
        
          <span class="DateTagBar__Item DateTagBar__Date">Posted on Thu, Jan 6, 2022</span>
        
        
          <span class="DateTagBar__Item DateTagBar__Tag DateTagBar__Tag--pink">
            <a href="tag/Computer Network.html">Computer Network</a>
          </span>
        
      </div>
    
  </header>
  <article id="https://www.notion.so/e9c1ef6938ad4c14b59fb7f37c855284" class="PageRoot"><h2 id="https://www.notion.so/1d08a29c691d46cd80b2248a0bd5440e" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/1d08a29c691d46cd80b2248a0bd5440e"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">Chapter6Â Netwrok Layer</span></span></h2><ol class="NumberedListWrapper"><li id="https://www.notion.so/9502458e86574944ba14089f21074425" class="NumberedList" value="1"><span class="SemanticStringArray"><span class="SemanticString">The role of the network later is to move packets from a sending host to a receiving host.</span></span></li><li id="https://www.notion.so/3f93f43b952c47f3b7cf286696ed43f5" class="NumberedList" value="2"><span class="SemanticStringArray"><span class="SemanticString">Every router has a forwarding table.</span></span></li></ol><h3 id="https://www.notion.so/ab7a2b233fd7409693f08e5e46a594bc" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/ab7a2b233fd7409693f08e5e46a594bc"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">4.1</span></span></h3><h3 id="https://www.notion.so/b671da22d64144c29887eff538b93a9f" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/b671da22d64144c29887eff538b93a9f"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">Two key network-layer functions</span></span></h3><div id="https://www.notion.so/8a4cb84345404857a3cadab0113f0c6e" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Every router to do forwarding and routing</span></span></p></div><ul class="BulletedListWrapper"><li id="https://www.notion.so/4ce2c11d24724998a3ce3f21481b2d31" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">forwarding: move packets from router&#x27;s input to appropriate router output</span></span></li><li id="https://www.notion.so/40af87970b084ff5b09a1ba7475dbee0" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">routing: determine route or path taken by packets from source to destination, the algorithms that calculate the paths are referred to as routing algorithms.</span></span></li></ul><h3 id="https://www.notion.so/db7a5f2e5d2a4fa8ad1cb918aa3fbd55" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/db7a5f2e5d2a4fa8ad1cb918aa3fbd55"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">Data plane</span></span></h3><ul class="BulletedListWrapper"><li id="https://www.notion.so/415fa2c942b7435c8bf52c5202508193" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">local, per-router function</span></span></li><li id="https://www.notion.so/cd30ff23081d4afb82f9d4645a9fdd32" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">determines how datagram arriving on router input port is forwarded to router output port</span></span></li><li id="https://www.notion.so/6a8fe1f864f14fbc9d28c294aa0ad194" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">forwarding function</span></span></li></ul><h3 id="https://www.notion.so/064422c3a6f041109e71febb32244bdd" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/064422c3a6f041109e71febb32244bdd"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">Control plane</span></span></h3><ul class="BulletedListWrapper"><li id="https://www.notion.so/ee110dace8954987b3c03379fc0d9fc5" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">network-wide logic</span></span></li><li id="https://www.notion.so/780c53cf54e04a5bae415a80d957f202" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">determines how datagram is routed among routers along end-end path from source host to destination host</span></span></li><li id="https://www.notion.so/6dacd4b8ac8240599acb33ad40fa496b" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">two control-plane approaches:</span></span><div id="https://www.notion.so/420f617db5b4428a8fed61dafb4cfc8a" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Tips: ä¸‹é¢è¿™ä¸¤ç±»æ˜¯åˆ†åˆ«æˆç«‹çš„ï¼Œè¦ä¹ˆæ‰€æœ‰çš„routeréƒ½æ˜¯traditional routing çš„ï¼Œ è¦ä¹ˆæ‰€æœ‰çš„routeréƒ½æ˜¯SDNçš„ï¼Œè¿™æ˜¯ä¸¤ç±»ä¸åŒçš„routerç½‘ç»œç»“æ„ã€‚</span></span></p></div><ul class="BulletedListWrapper"><li id="https://www.notion.so/51763eac40db4e08be5ab9083124672c" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">traditional routing algorithms: implemented in routers (distributed routing)</span></span></li><li id="https://www.notion.so/10fe60ed147d4a0ca96e66e201414269" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">software-defined networking (SDN): implemented in (remote) servers</span></span></li></ul></li></ul><h3 id="https://www.notion.so/e7fd527c62a24a89a0b661eb78144eee" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/e7fd527c62a24a89a0b661eb78144eee"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">Per-router control plane</span></span></h3><div id="https://www.notion.so/746cba6d9adf4960a12094ffaa9b7962" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Individual routing algorithm components in each and every router interact in the control plane. (traditional routing algorithms)</span></span></p></div><div id="https://www.notion.so/a11120e20df14906bf7d61861a1326fb" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Each router has two palnes: data plane and control plane.</span></span></p></div><div id="https://www.notion.so/0772626980964b36bb082bdbb93db910" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Control plane: running arouting algorithm and generate the local forwarding table.</span></span></p></div><div id="https://www.notion.so/e2643a684349431c9af87ba38ff72664" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Data plane: check the forwarding table and transmit the packets.</span></span></p></div><h3 id="https://www.notion.so/fdca8d4ea3ea485f9fad34041f90b661" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/fdca8d4ea3ea485f9fad34041f90b661"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">Logically centralized control plane</span></span></h3><div id="https://www.notion.so/732c037096474897aaa85b447649004f" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">A distinct (typically remote) controller interacts with local control agents (CAs) (new architecture)</span></span></p></div><div id="https://www.notion.so/75c02420bd9548ca93e78554623b7d78" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Router send useful information to remote server.</span></span></p></div><div id="https://www.notion.so/0abfa7e129ea4dcfa24af411cacb855f" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Every control agent collect information and then tell information to remote server.</span></span></p></div><div id="https://www.notion.so/80db99839da04f729421c4408ac9ec5c" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">The remote server collect all data and network information and calculate the forwarding table. Tell the router the table.</span></span></p></div><div id="https://www.notion.so/b13070ee38aa4999aacd2be9a01a434a" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">The router only do the forwarding.</span></span></p></div><div id="https://www.notion.so/a38842fa10fa4d789799884d1ecea58c" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">This router do the data plane in router and remote server do the control plane.</span></span></p></div><h3 id="https://www.notion.so/33f97593e9fc4d8a992eff507870ba64" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/33f97593e9fc4d8a992eff507870ba64"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">Network service model</span></span></h3><div id="https://www.notion.so/eebf0455faa84aa097a4f7bec647d942" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">example services for individual datagrams:</span></span></p></div><ul class="BulletedListWrapper"><li id="https://www.notion.so/f6d0af1a48bc4b8faf58bb1cbe7d4b9a" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">guaranteed delivery (x)</span></span></li><li id="https://www.notion.so/fab1dd11565d4147bc0e5091e30b144b" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">guaranteed delivery with less that 40 msec delay (x)</span></span></li></ul><div id="https://www.notion.so/4ccf69770f444adb9d484ae3748314de" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">example services for a flow of datagrams</span></span></p></div><ul class="BulletedListWrapper"><li id="https://www.notion.so/40fc9a91bc0f414ead6777eb445b3f48" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">in-order datagram delivery (x)</span></span></li><li id="https://www.notion.so/45f8f53f1ea941cdbf778b59106bdeb4" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">guaranteed minimum bandwith to flow (x)</span></span></li><li id="https://www.notion.so/2de15f436a424afcb0510e5ac70bfbf7" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">restrictions on changes in inter-packet spacing (x)</span></span></li></ul><div id="https://www.notion.so/4dca280dc1f24c5aa777570c77d1ba96" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">For every service, the network level cannot provide. Internet service model provide &quot;best offset&quot; service, no guarantee on bandwith, loss, order or timing.</span></span></p></div><h3 id="https://www.notion.so/f08478b4acf642ec8cdab00a49ed2bc2" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/f08478b4acf642ec8cdab00a49ed2bc2"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">4.2</span></span></h3><h3 id="https://www.notion.so/19240f4d79964ff086024e6d59989e4a" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/19240f4d79964ff086024e6d59989e4a"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">Router architecture overcview</span></span></h3><ul class="BulletedListWrapper"><li id="https://www.notion.so/2661695d4d904517ad96e5df10ba09f8" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">high level view of generic router architecture</span></span></li></ul><div id="https://www.notion.so/90f04eb3b18d401c8d101331fade3f7e" class="Image Image--PageWidth"><figure><a href="#"><img src="#" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><div id="https://www.notion.so/d9a77900a40f4e8f84a85e444bb1e2fe" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">control plane</strong></span></span></p></div><div id="https://www.notion.so/3ec3435a6bee4cdc9b3401b0789915a1" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">routing processor</span></span></p></div><div id="https://www.notion.so/eb1aaf159d3e442cae6ab503cf908dc6" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">data plane</strong></span></span></p></div><div id="https://www.notion.so/c2de10b3ed9c47e2b7669d685bf2f6a0" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">router input ports.</span></span></p></div><div id="https://www.notion.so/5242b9c698af42298440624fd92b6b00" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">high-seed switching fabric</span></span></p></div><div id="https://www.notion.so/b360efab80714b57bd794013232f5ee8" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">router output ports.</span></span></p></div><h3 id="https://www.notion.so/234f8f16906b49508ebd6bc418efd277" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/234f8f16906b49508ebd6bc418efd277"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">Input port functions</span></span></h3><div id="https://www.notion.so/163943bd06364363a3fe7ccbe7210aee" class="Image Image--PageWidth"><figure><a href="#"><img src="#" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><div id="https://www.notion.so/e8e526916d3847d7aa823f6de20d0228" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">line termination</strong></span></span></p></div><div id="https://www.notion.so/b2efb542a0904d0f973669287a9d7c5c" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">phsical layer: bit-level reception</span></span></p></div><div id="https://www.notion.so/26c4ddafb8584b418aed50bfbd4a2b19" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">data link layer: e.g., Ethernet see chapter5</span></span></p></div><div id="https://www.notion.so/2a089a1a2f8f4cee942a20f9392bfda5" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">decentralized switching</span></span></p></div><ul class="BulletedListWrapper"><li id="https://www.notion.so/d9ffa1db9f8640a1b9996adc9d40ae64" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">using header field values, lookup output port using forwarding table in input port memory</span></span></li></ul><ol class="NumberedListWrapper"><li id="https://www.notion.so/71dc0431f2ad4fa6ba062cb3cc8eb9ee" class="NumberedList" value="1"><span class="SemanticStringArray"></span></li></ol><ul class="BulletedListWrapper"><li id="https://www.notion.so/55201ae1861d43ec8bc1b6a249034c76" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">goal: complete input port processing at &#x27;line spped&#x27;</span></span></li><li id="https://www.notion.so/21b93389ba234131bba2688054650940" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">queuing: if datagrams arrive faster than forwarding rate into switch fabric</span></span></li></ul><ol class="NumberedListWrapper"><li id="https://www.notion.so/4f26b91422d140bdab921c46a742ee17" class="NumberedList" value="1"><span class="SemanticStringArray"></span></li></ol><ul class="BulletedListWrapper"><li id="https://www.notion.so/af7370a30a8c4cb395a118bd10f08c89" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">destination-based forwarding: forward based only on destination IP address ï¼ˆtraditionalï¼‰</span></span></li><li id="https://www.notion.so/7bd2190a8f1c46f984699d270e033168" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">generalized forwarding: forward based on any set of header field values</span></span></li></ul><h3 id="https://www.notion.so/81f035fbf9734b0d82a0ef074f080b87" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/81f035fbf9734b0d82a0ef074f080b87"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">Destination-based forwarding</span></span></h3><div id="https://www.notion.so/a73c65b63f894c16879aedcf56be76eb" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">è·¯ç”±è¡¨æ˜¯æ¯ä¸€ä¸ªè·¯ç”±å™¨æŒ‰ç…§è·¯ç”±åè®®çš„è§„å®šç›¸äº’å‘ä¿¡æ¯ç®—å‡ºæ¥çš„ã€‚</span></span></p></div><div id="https://www.notion.so/8cb81aef590d4d69b4d94f00fc5d32a9" class="Image Image--PageWidth"><figure><a href="#"><img src="#" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><div id="https://www.notion.so/a7e7eca87d034f2cb11852533a7683fb" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Every ip address -&gt; link interfaces</span></span></p></div><div id="https://www.notion.so/4c2273330760407fb0bb5621c4cf2834" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">####Â Longest prefix matching</span></span></p></div><div id="https://www.notion.so/2e4e9028e54540d9a65dc1a5267a6004" class="Image Image--PageWidth"><figure><a href="#"><img src="#" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><div id="https://www.notion.so/183955a6aa96495db8449914cc40becc" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">When looking for forwarding table entry for given destination address, use longest address prefix that matches destination address.</span></span></p></div><div id="https://www.notion.so/4b52ce98e5254dbea1d2656cab017270" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">For the following example, 11000 -&gt; 1, 11001 -&gt; 2</span></span></p></div><div id="https://www.notion.so/669d152c935a4307ae4a7585cda44aa9" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">####Â Switching fabrics</span></span></p></div><ul class="BulletedListWrapper"><li id="https://www.notion.so/b70bcf8f6c784eb1b46631972d323802" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">transfer packet from input buffer to appropriate output buffer</span></span></li><li id="https://www.notion.so/27f41c0c7a4b476a85774dce40977201" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">switching rate: rate at which pakcets can transferred from inputs to outputa</span></span></li></ul><div id="https://www.notion.so/d46213f4d44745949568a89be686e792" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">3 different implementation: memory, bus, crossbar</span></span></p></div><div id="https://www.notion.so/3cbbc14859e543d3a908fbe16092bc44" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">memory: good: çµæ´», bad: é€Ÿåº¦æ…¢</span></span></p></div><div id="https://www.notion.so/ac87071d23e24750bbc4c2c547fd602d" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">bus: bad: at one time only one packet can switch in the bus. good: bus is quick</span></span></p></div><div id="https://www.notion.so/852edca289fa4911ac9234fe7199343d" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">crossbar: has multiple bus, at the same time n packet can switch</span></span></p></div><div id="https://www.notion.so/48ffb4a66e9c456c8c6190aae74a5c2f" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">####Â Output ports</span></span></p></div><div id="https://www.notion.so/edc75603fcec4eafb4794170a1f62eed" class="Image Image--PageWidth"><figure><a href="#"><img src="#" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><ul class="BulletedListWrapper"><li id="https://www.notion.so/5961fe4ae75b48898ebddb01daed1cf6" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">buffering</strong></span><span class="SemanticString"> required when datagrams arrive from fabric faster than the transmission</span></span></li><li id="https://www.notion.so/d67d0370b6fd40d29634b43e879992c1" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">scheduling discipline</strong></span><span class="SemanticString"> chooses among queued datagrams for transmission</span></span></li></ul><div id="https://www.notion.so/16a4d872339b4c4d9d5c44263607f389" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Datagram (packets) can be lost due to congestion, lack of buffers</span></span></p></div><div id="https://www.notion.so/a23bdac5a92e4f2bbb6a43e3cb983adf" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Priority scheduling - who gets best performance, network neutrality</span></span></p></div><div id="https://www.notion.so/90ac47da75fc48a795d8f0778dc32e3a" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">####Â Output port queueing</span></span></p></div><div id="https://www.notion.so/3f7562db35c94e6da548234cb29fc048" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Explain why there is a delay or loss happen.</span></span></p></div><div id="https://www.notion.so/667f66e6aec34eed817f144ffe443208" class="Image Image--PageWidth"><figure><a href="#"><img src="#" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><ul class="BulletedListWrapper"><li id="https://www.notion.so/c20384ce30544e689b1096e3d3651daa" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">buffering when arrival rate via switch exceeds output line speed</span></span></li><li id="https://www.notion.so/b5ed282d8af24c918934a36b616f3de8" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">queueing (delay) and loss due to output port buffer overflow!</span></span></li></ul><div id="https://www.notion.so/27dce792b5174a2aa36ae43f1e7ea39a" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">####Â How much buffering?</span></span></p></div><div id="https://www.notion.so/e2cfe60498ea4d809e70ecc828db69ba" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Only one flow, $ buffer = Rate * RTT $</span></span></p></div><div id="https://www.notion.so/38f8b9986caa4158863c0d68bb05bcf0" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">If there is N flows, $buffer = \frac {Rate * RTT}{\sqrt N}$</span></span></p></div><div id="https://www.notion.so/ff885b11694f487fa4346767173a4149" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">####Â Scheduling mechanisms</span></span></p></div><ul class="BulletedListWrapper"><li id="https://www.notion.so/b70a8324ff474292925f593248d545bc" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">scheduling: choose next packet to send on link</span></span></li><li id="https://www.notion.so/04ff468f045a4da98add5dc9a573d119" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">FIFO (fiirst in first out) scheduling: send in order of arrival to queue</span></span><ul class="BulletedListWrapper"><li id="https://www.notion.so/90d5ec40d99b46579e63ca3180c0fac2" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">discard policy: if packet arrives to full queue: who to discard?</span></span><ul class="BulletedListWrapper"><li id="https://www.notion.so/c5a50617851f47f4b1fbe662e57e42f7" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">tail drop: drop arriving packet</span></span></li><li id="https://www.notion.so/4329045b5a1741babee80bb5c8fd6671" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">priority: drop/remove on priority basis</span></span></li><li id="https://www.notion.so/47ed890598874f05acf1e8dc1ea7adc5" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">random: drop/remove randomly</span></span></li></ul></li></ul></li><li id="https://www.notion.so/140b6ed0814f40b8bfc9ce2ed07651b9" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">priority scheduling: send highest priority queued packet</span></span><ul class="BulletedListWrapper"><li id="https://www.notion.so/9b1f4ae632c04a99945c3404f91cbac8" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">multiple classes, with different priorities</span></span><ul class="BulletedListWrapper"><li id="https://www.notion.so/5b1fecfcf5a44c13ab2db12a5ff21633" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">class may depend on marking or other header info, e.g. IP source/dest, port numbers, etc.</span></span></li></ul></li><li id="https://www.notion.so/79a5e8ac929d4c39bde3e45907501fbe" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">e.g. Two queue, one high priority queue, and one low priority queue, if high priority queue didn&#x27;t switch out, low priority queue won&#x27;t switch</span></span></li></ul></li><li id="https://www.notion.so/68e65823bed7497a8ddba7802d6842a3" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">Round Robin scheduling:</span></span><ul class="BulletedListWrapper"><li id="https://www.notion.so/62350eae925d4efe873e50583ed20f85" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">multiple classes</span></span></li><li id="https://www.notion.so/70709eda24344d9d9634c2d9a4e684a7" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">cyclically scan class queues, sending one complete packet from each class (if available)</span></span></li></ul></li><li id="https://www.notion.so/81235dc7c19d446688dd73c2d2de3a04" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">Weighted Fair Queuing (WFQ):</span></span><ul class="BulletedListWrapper"><li id="https://www.notion.so/2a08423895a444328ba69f8d51ab6d79" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">generalized Round Robin</span></span></li><li id="https://www.notion.so/34f6aed58289458ca31fdf8488223c15" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">each class gets weighted amount of service in each cycle</span></span></li></ul></li></ul><div id="https://www.notion.so/5215221ff5bd4e90a7d6b01b62a7fd66" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">###Â 4.3</span></span></p></div><div id="https://www.notion.so/777642b1b3cc4b4786d0c9de04196253" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">####Â The Internet network later</span></span></p></div><div id="https://www.notion.so/21d4d412273e40a48cb84cd969b3b05a" class="Image Image--PageWidth"><figure><a href="#"><img src="#" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><div id="https://www.notion.so/5731943b1473420d8da64fa2c572365e" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">####Â IP datagram format</span></span></p></div><div id="https://www.notion.so/e35fcd46264346e4a5af85e0434c1079" class="Image Image--PageWidth"><figure><a href="#"><img src="#" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><div id="https://www.notion.so/bcc790f5202a4be28dfb1b893e4be143" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Header: 20bytes</span></span></p></div><div id="https://www.notion.so/1e0cb81f02ba4e8c8cc037d32f0ef7cc" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">verison, header length, type of service, length, 16-bit identifier, flags, fragment offset, time to live, upper layer, header checksum, 32bit source IP address, 32bit destination IP address.</span></span></p></div><div id="https://www.notion.so/1ff9c82822c2447f81f9bf0389a4c204" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">How much overhead</span></span></p></div><ul class="BulletedListWrapper"><li id="https://www.notion.so/15dc798160744bc88b0e4a4790563237" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">20 bytes of TCP</span></span></li><li id="https://www.notion.so/c4b3dcadae0d4d55aefc9a1bb0ebd4cc" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">20 bytes of IP</span></span></li><li id="https://www.notion.so/5274217bd49548c481d3df87438fbe7e" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">= 40 bytes + app layer overhead</span></span></li></ul><div id="https://www.notion.so/9b75898c692b479fb31131fd0e76d74b" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">####Â IP fragmentation reassembly</span></span></p></div><ul class="BulletedListWrapper"><li id="https://www.notion.so/770feb73537d4be2a91402ee6d9af783" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">network links have MTU (max transfer size) - largest possible link-level frame</span></span><ul class="BulletedListWrapper"><li id="https://www.notion.so/9cb00a7279084fd597b9998fbfd466d7" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">different link types, different MTU</span></span></li></ul></li><li id="https://www.notion.so/e25bb5e7d85445d39f028e02d16159e3" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">large IP datagram divided (&quot;fragmented&quot;) within net</span></span><ul class="BulletedListWrapper"><li id="https://www.notion.so/1d51e437df9f4b03ad388b40819daac8" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">one datagram becomes several datagrams</span></span></li><li id="https://www.notion.so/08fea6f452ad4587b2990181edb558dc" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">&quot;reassembled&quot; only at final destination</span></span></li><li id="https://www.notion.so/ec6f818b131942c9a6521d1cbbd33cf9" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">IP header, order related fragments</span></span></li></ul></li></ul><div id="https://www.notion.so/8d7af2314abf419fb98bfc9300a4f9b8" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">example:</span></span></p></div><ul class="BulletedListWrapper"><li id="https://www.notion.so/f15359393c724fd0bedcfd3e80082162" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">$length = 4000$</span></span></li><li id="https://www.notion.so/696e31bab1e8440faca76058f3096b07" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">$MTU = 1500 &lt; 4000 $</span></span></li></ul><div id="https://www.notion.so/eefa4afce50f4f12ac67460a7f4df720" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">then it will have fragmentation</span></span></p></div><div id="https://www.notion.so/1d19d2a3926c463482ffccf983ab6099" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">one packet with $length = 4000$, then $payload = 4000-20 = 3980 $</span></span></p></div><div id="https://www.notion.so/fce07876e5774f61bd3e0696d675be69" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">one MTU packet with $length = 1500$, then $payload = 1500-20=1480$</span></span></p></div><div id="https://www.notion.so/79f0dd07c1e9442fad64128644419118" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">So the last packet need $payload =3980-2*1480=1020$, $length=1020+20 = 1040$</span></span></p></div><div id="https://www.notion.so/9d344ff781984039aefb4a139c50d3ae" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">$offset=payload/8$</span></span></p></div><div id="https://www.notion.so/17e8ab2495104a19834fd6bc4c652220" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">$offset_1 = 0$, $offset_2 = 1480/8=185$, $offset_3=185+1480/8=370$</span></span></p></div><div id="https://www.notion.so/52c85f8806c54ceaa866371f8ca3f5f0" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">fragmentationæ ‡è¯†äº†åé¢æ˜¯å¦è¿˜æœ‰åŒ…ï¼Œæœ‰åŒ…åˆ™ä¸º1, offsetå¯ä»¥æŒ‡å¯¼åŒ…çš„æ‹¼åˆ.</span></span></p></div><div id="https://www.notion.so/0fd39a02166b4c7ea99395efe8af0334" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">####Â IP addressing: introduction</span></span></p></div><ul class="BulletedListWrapper"><li id="https://www.notion.so/f037fa084f38408a8aa7b292932957d0" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">IP address: 32-bit identifier for interface of hosts and routers</span></span></li><li id="https://www.notion.so/2463140725ff4b1aae4a0b0cc54bc667" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">interface: (network interface card) connection between host/router and physical link</span></span><ul class="BulletedListWrapper"><li id="https://www.notion.so/2894366445f04646a3a04c0a15b2fbc7" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">router&#x27;s typically have multiple interfaces</span></span></li><li id="https://www.notion.so/2f8218c578c24f6fab8155202f49c3b6" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">host typically has one or two interfaces (e.g., wired Ethernet, wireless 802.11)</span></span></li></ul></li><li id="https://www.notion.so/820db6b54dd0493c8979970a5ba822d6" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">IP addresses associated with each interface</span></span></li></ul><div id="https://www.notion.so/14695e7e234345509279a67a9ee2726c" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">####Â Subnets</span></span></p></div><ul class="BulletedListWrapper"><li id="https://www.notion.so/93cafba33b454246b75bcf87cdf7cd8d" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">IP address:</span></span><ul class="BulletedListWrapper"><li id="https://www.notion.so/811d8f3cbff34973b84e8f0c2ab81e74" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">subnet part - high order bits</span></span></li><li id="https://www.notion.so/161c4d8287ac4be387c3fbe5977a5042" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">host part - low order bits</span></span></li></ul></li><li id="https://www.notion.so/8b28effc5f7040d8a98050b55b290260" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">What&#x27;s a subnet?</span></span><ul class="BulletedListWrapper"><li id="https://www.notion.so/a7c7216749b741aca915d8f69221960a" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">device interfaces with same subnet part of IP address</span></span></li><li id="https://www.notion.so/c32e44bf027148c7b6942912169646f2" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">can physically reach each other without intervening router</span></span></li></ul></li><li id="https://www.notion.so/83412695c4954c04a9c9e12c9b54c18c" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">recipe</span></span><ul class="BulletedListWrapper"><li id="https://www.notion.so/631561f3bb9d462caccf357d59b7efa4" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">to determine the subnets, detach each interface from its host or router, creating islands of isolated networks</span></span></li><li id="https://www.notion.so/c3c2b4db7880432babb646c9098d8a0b" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">each islated network is called a subnet</span></span></li><li id="https://www.notion.so/6c6fde7be2d3409d995af5151ea88bd8" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">233.1.1.0 ~~ 233.1.1.255 = 233.1.1.0/24 = 233.1.1.0 255.255.255.0</span></span></li></ul></li></ul><div id="https://www.notion.so/76c7952de3a24391a80e88c063b7fd33" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">####Â IP addressing: CIDR</span></span></p></div><div id="https://www.notion.so/a1d64dfca8d64e1d807445f9b3604590" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">CIDR: Classless InterDomain Routing</span></span></p></div><ul class="BulletedListWrapper"><li id="https://www.notion.so/9e5a519727d94202984356e946b0675c" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">subnet portion of address of arbitrary length</span></span></li><li id="https://www.notion.so/c667659ed7364b13a8d31bcaea6c4235" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">address format: a.b.c.d/x, where x is # bits in subnet portion of address</span></span></li></ul><div id="https://www.notion.so/6ae029a4e0854a1eabcd02e444798c9b" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">$30 &lt; 32 = 2^5$ it need 32-5 = 27 as subnet</span></span></p></div><div id="https://www.notion.so/113e7b5a5a0243fa8e9c7d20f54c3bff" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">$60&lt;64=2^6$ it need 32-6 = 26 as subnet</span></span></p></div><div id="https://www.notion.so/52dab8d3cf254423aa1057840aa5751d" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">IP address: how to get one?</span></span></p></div><ul class="BulletedListWrapper"><li id="https://www.notion.so/c7395a06e19c42fba7cb5ce747c3aa9a" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">hard-coded by system admin in a file</span></span></li><li id="https://www.notion.so/194c860e8244429384f4bf3ad1be6593" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">DHCP: Dynamic Host Configuration Protocol: dynamically get address from a server</span></span><ul class="BulletedListWrapper"><li id="https://www.notion.so/f2c4ae70412a4f7483aaf162268fe84b" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">&quot;plug-and-play&quot;</span></span></li></ul></li></ul><div id="https://www.notion.so/4f1c97b6a4b54407baec3e63efbf228d" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">####Â DHCP: Dynamic Host Configuration Protocol</span></span></p></div><div id="https://www.notion.so/b7da1ed028c745beab225c3cba600904" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">goal: allow host to dynamically obtain its IP address from network server when it joins netrok</span></span></p></div><ul class="BulletedListWrapper"><li id="https://www.notion.so/0e8f4412ba3d48548e634bcfec192431" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">can renew its lease on address in use</span></span></li><li id="https://www.notion.so/19a41679b97445299907339896c92787" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">allows reuse of address</span></span></li><li id="https://www.notion.so/2c25d89b04144b33841e4805c986a699" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">support for mobile users who want to join network</span></span></li></ul><div id="https://www.notion.so/169f3fdf2a714f3f8eb1a8e1b969b559" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">DHCP overview:</span></span></p></div><ul class="BulletedListWrapper"><li id="https://www.notion.so/eb41d2e06c93417589ae4f3774fedcfc" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">host broadcasts &quot;DHCP discover&quot; msg [optional]</span></span></li><li id="https://www.notion.so/7b45131b78974090bf8c04a61eeedade" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">DHCP server responds with &quot;DHCP offer&quot; msg [optional]</span></span></li><li id="https://www.notion.so/c1b05938aad1481c94479263edcc0a7b" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">host requests IP address: &quot;DHCP request&quot; msg</span></span></li><li id="https://www.notion.so/43c69fc75b674274aaa88a9d3fc8ae5f" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">DHCP server sends address: &quot;DHCP ack&quot; msg</span></span></li></ul></article>
  <footer class="Footer">
  <div>&copy; dreamking60â€™s blog 2022</div>
  <div>&centerdot;</div>
  <div>Powered by <a href="https://github.com/dragonman225/notablog" target="_blank"
      rel="noopener noreferrer">Notablog</a>.
  </div>
</footer>
</body>

</html>